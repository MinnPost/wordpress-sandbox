"use strict";!function(i){function s(e,s,t,o){var r=o.val();""==r&&(r="US",o.val(r));var a,n=t.val();""!==n&&(a={zip_code:n,country:r},jQuery.ajax({type:"GET",url:user_account_management_rest.site_url+user_account_management_rest.rest_namespace+"/check-zip",data:a,dataType:"json",success:function(t){var o;"success"===t.status?(o="",o+=t.city,i(e).val(t.city),t.city!==t.state&&(o+=", "+t.state,i(s).val(t.state)),"US"!==r&&(o+=", "+r),i(".location small").text(o)):i(".location small").text("")}}))}i(document).ready(function(){var t,o;0<i("#rh-name").length&&i("#rh-name").val(""),0<i(".password-show").length&&(t=i(".btn-submit"),(o=i(".password-show")).after('<div class="a-form-show-password a-form-caption"><label><input type="checkbox" name="show_password" id="show-password-checkbox" value="1"> Show password</label></div>'),i("#show-password-checkbox").on("click",function(t){i(this).is(":checked")?o.attr("type","text"):o.attr("type","password")}),t.on("click",function(t){o.attr("type","password")})),0<i(".password-strength-check").length&&(i(".a-form-show-password").after(i('<meter max="4" id="password-strength"><div></div></meter><p id="password-strength-text"></p>')),i("body").on("keyup","input[name=password], input[name=new_password]",function(t){!function(t,o,e,s){var r=t.val();e.removeClass("short bad good strong"),s=s.concat(wp.passwordStrength.userInputDisallowedList());var a=wp.passwordStrength.meter(r,s,r);switch(a){case 2:e.addClass("bad").html("Strength: <strong>"+pwsL10n.bad+"</strong>");break;case 3:e.addClass("good").html("Strength: <strong>"+pwsL10n.good+"</strong>");break;case 4:e.addClass("strong").html("Strength: <strong>"+pwsL10n.strong+"</strong>");break;case 5:e.addClass("short").html("Strength: <strong>"+pwsL10n.mismatch+"</strong>");break;default:e.addClass("short").html("Strength: <strong>"+pwsL10n.short+"</strong>")}o.val(a)}(i("input[name=password], input[name=new_password]"),i("#password-strength"),i("#password-strength-text"),(i("input[type=submit]"),["disallowed","listed","word"]))}));var e=i(".m-form-country #country").val();i(".m-form-zip-code #zip-code").length&&(""==e||"US"==e?(i(".m-form-country").hide(),i(".m-form-zip-code #zip-code").prop("type","tel"),i(".m-form-zip-code").append('<div class="a-form-caption location"><small></small></div><div class="a-form-caption show-country"><a href="#" id="registration_show_country"><small>Not in the US?</small></a></div>')):0<i(".m-form-country #country").length&&(i(".m-form-zip-code label").html('Postal Code: <span title="This field is required." class="a-form-item-required">*</span>'),i(".m-form-zip-code #zip-code").prop("type","text")),0<i(".m-form-country #country").length&&(i("select, input",".m-form-country").hasClass("not-in-us")&&(i(".show-country",".m-form-zip-code").remove(),i(".m-form-country").show(),i(".m-form-zip-code #zip-code").prop("type","text"),i(".m-form-zip-code label").html('Postal Code: <span title="This field is required." class="a-form-item-required">*</span>')),0==i(".m-form-city #city").length&&0==i(".m-form-state #state").length&&(i(".m-form-country #country, .m-form-zip-code #zip-code").blur(function(){s(i('input[name="city"]'),i('input[name="state"]'),i(".m-form-zip-code #zip-code"),i(".m-form-country #country"))}),i(".m-form-country #country").change(function(){s(i('input[name="city"]'),i('input[name="state"]'),i(".m-form-zip-code #zip-code"),i(".m-form-country #country"))})),i("#registration_show_country").click(function(){return i(".m-form-zip-code label").html('Postal Code: <span title="This field is required." class="a-form-item-required">*</span>'),i(".m-form-country").slideDown(),i(".m-form-zip-code #zip-code").prop("type","text"),i(this).hide(),!1})))})}(jQuery);